{"ast":null,"code":"import firebase from \"../config/firebase\";\nimport { useHistory } from \"react-router-dom\";\nexport function useAuthentication() {\n  const history = useHistory();\n  const db = firebase.firestore();\n  const ref = db.collection(\"User\"); //すでにログインしているユーザーを識別する\n\n  const checkAuthentication = () => {\n    firebase.auth().onAuthStateChanged(async usr => {\n      if (usr) {\n        history.push(`/home`);\n      }\n    });\n  };\n\n  return [{\n    checkAuthentication,\n    ref\n  }];\n}","map":{"version":3,"sources":["/Users/yoko/Desktop/YOKOHAMABANK/src/functions/useAuthentication.tsx"],"names":["firebase","useHistory","useAuthentication","history","db","firestore","ref","collection","checkAuthentication","auth","onAuthStateChanged","usr","push"],"mappings":"AACA,OAAOA,QAAP,MAAqB,oBAArB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAO,SAASC,iBAAT,GAA6B;AAClC,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AAEA,QAAMG,EAAE,GAAGJ,QAAQ,CAACK,SAAT,EAAX;AACA,QAAMC,GAAG,GAAGF,EAAE,CAACG,UAAH,CAAc,MAAd,CAAZ,CAJkC,CAMlC;;AACA,QAAMC,mBAAmB,GAAG,MAAM;AAChCR,IAAAA,QAAQ,CAACS,IAAT,GAAgBC,kBAAhB,CAAmC,MAAOC,GAAP,IAAqC;AACtE,UAAIA,GAAJ,EAAS;AACPR,QAAAA,OAAO,CAACS,IAAR,CAAc,OAAd;AACD;AACF,KAJD;AAKD,GAND;;AAQA,SAAO,CAAC;AAAEJ,IAAAA,mBAAF;AAAuBF,IAAAA;AAAvB,GAAD,CAAP;AACD","sourcesContent":["import React from \"react\";\nimport firebase from \"../config/firebase\";\nimport { useHistory } from \"react-router-dom\";\n\nexport function useAuthentication() {\n  const history = useHistory();\n\n  const db = firebase.firestore();\n  const ref = db.collection(\"User\");\n\n  //すでにログインしているユーザーを識別する\n  const checkAuthentication = () => {\n    firebase.auth().onAuthStateChanged(async (usr: firebase.User | null) => {\n      if (usr) {\n        history.push(`/home`);\n      }\n    });\n  };\n\n  return [{ checkAuthentication, ref }] as const;\n}\n"]},"metadata":{},"sourceType":"module"}